package pl.xt.jokii.db;

import java.util.ArrayList;
import java.util.List;

import org.apache.http.NameValuePair;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.protocol.HTTP;

public class PostDevice {

/**
* Callback function for button "Send Note"
* @param v - related View
*/ 
public void sendPostData(String s)
{
	final String url = "http://www.testeruploadu.w8w.pl/note/index.php?action=new";
	//Uri	uri	= Uri.parse("http://www.testeruploadu.w8w.pl/note/index.php?action=new");

	new Thread(new Runnable() 
	{

	public void run() 
	{

	try 
	{
		// If want make thi not inside thread uncomment two line below, but it's not good solution
		//StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
		//StrictMode.setThreadPolicy(policy);
	
		DefaultHttpClient httpClient = new DefaultHttpClient();
		HttpPost httpPost = new HttpPost(url);
	
		List<NameValuePair> parameters = new ArrayList<NameValuePair>(2);
	
		parameters.add(new BasicNameValuePair("tekst", "a");
		parameters.add(new BasicNameValuePair("nots_add", "tak"));
		parameters.add(new BasicNameValuePair("pas", "all"));	
	
		httpPost.setEntity(new UrlEncodedFormEntity(parameters, HTTP.UTF_8));
		httpClient.execute(httpPost);
	
	}
	catch (Exception e) 
	{
		throw new RuntimeException("Nie udana próba", e);
	}	

	}
	}).start();

}
}
